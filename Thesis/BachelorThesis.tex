% Nejprve uvedeme tridu dokumentu s volbami
\documentclass[czech,bachelor]{diploma}
% Dalsi doplnujici baliky maker
\usepackage[autostyle=true,czech=quotes]{csquotes} % korektni sazba uvozovek, podpora pro balik biblatex
\usepackage[backend=bibtex, style=iso-numeric, alldates=iso]{biblatex} % bibliografie
\usepackage{dcolumn} % sloupce tabulky s ciselnymi hodnotami
\usepackage{subfig} % makra pro "podobrazky" a "podtabulky"
\usepackage{dirtytalk}
\usepackage{enumitem}
\usepackage[dvipsnames]{xcolor}
\usepackage{bbding}
\usepackage{boldline}
\usepackage{newfloat}
\usepackage{caption}
\usepackage{dirtree}

% new enviroment for codes
\DeclareFloatingEnvironment[
    placement={!ht},
    name=Zdrojový kód,
    listname={Seznam zdrojových kódů}
]{code}

% minted
\usepackage[outputdir=out]{minted}
\renewcommand{\MintedPygmentize}{C:/Python311/Scripts/pygmentize}
\setminted[typescript]{
    frame=lines,
    framesep=2mm,
    baselinestretch=1.2,
    tabsize=4
}
\setminted[peg]{
    frame=lines,
    framesep=2mm,
    baselinestretch=1.2,
    tabsize=4
}
\setminted[html]{
    frame=lines,
    framesep=2mm,
    baselinestretch=1.2,
    tabsize=4
}
\usemintedstyle{emacs}
% end minted

\counterwithout{footnote}{chapter}

% Zadame pozadovane vstupy pro generovani titulnich stran. 
\ThesisAuthor{Dominik Kundra}

\ThesisSupervisor{Ing. Jakub Beránek}

\CzechThesisTitle{Vizualizace regulárních výrazů}

\EnglishThesisTitle{Regular Expression Visualization}

\SubmissionYear{2024}

\ThesisAssignmentFileName{ThesisSpecification_KUN0161.pdf}

% Pokud nechceme nikomu dekovat makro zapoznamkujeme.
\Acknowledgement{
    Chtěl bych poděkovat svému vedoucímu práce, Ing. Jakubovi Beránkovi, za ochotu, pomoc a za rychlou vzpětnou vazbu pri realizaci této práce.
}

\CzechAbstract{
    Tato práce se věnuje vizualizaci regulárních výrazů, sloužící pro pochopení jejich fungování a k potencionálnímu odhalení chyb při jejich ladění.
    První část aplikace popisuje principy fungování regulárních výrazů, historii a jejich základní vzory.
    Druhá část srovnává existující nástroje, jejich možnosti a inspirace pro tuto práci. 
    Třetí část probírá specifikaci požadavků, zvolený návrh a použité technologie aplikace.
    Dále se detailněji zabývá implementací samotné aplikace, konkrétně zpracovánín regulárních výrazů, vizualizací a rozšířením pro vývojové prostředí Visual Studio Code.
}

\CzechKeywords{vizualizace regulárních výrazů; vývojové prostředí Visual Studia Code}

\EnglishAbstract{
    This thesis focuses on visualization of regular expressions, serving a purpose for understanding their functioning and for potentional error detection while debugging them.
    First part of application describes functioning principals of regular expressions, history and their basic patterns.
    Second part compares existing tools, their options and inspirations for this thesis.
    Third part discusses specification of requirements, selected design and used technologies in application.
    Furthermore this part more focuses on implementation of the application alone, specifically about regular expression evaluation, visualisation and extension for development enviroment Visual Studio Code.
}

\EnglishKeywords{visualization of regular expressions; development enviroment Visual Studio Code}

\AddAcronym{AST}{Abstraktní syntaktický strom}
\AddAcronym{NKA}{Nedeterministický konečný automat}
\AddAcronym{DKA}{Deterministický konečný automat}
\AddAcronym{TS}{TypeScript}
\AddAcronym{JS}{JavaScript}
\AddAcronym{Regex}{Regulární výraz (Regular expression)}
\AddAcronym{API}{Aplikační rozhraní}
\AddAcronym{HTML}{HyperText Markup Language}
\AddAcronym{VSCode}{Visual Studio Code}
\AddAcronym{PCRE}{Perl-Compatible Regular Expressions}

\addbibresource{biblatex.bib}

% Novy druh tabulkoveho sloupce, ve kterem jsou cisla zarovnana podle desetinne carky 
\newcolumntype{d}[1]{D{,}{,}{#1}}


% Zacatek dokumentu
\begin{document}

% Nechame vysazet titulni strany.
\MakeTitlePages

% Jsou v praci obrazky? Pokud ano vysazime jejich seznam a odstrankujeme.
% Pokud ne smazeme nasledujici dve makra.
\listoffigures
\clearpage

% Kódy
\listofcode
\clearpage

% Jsou v praci tabulky? Pokud ano vysazime jejich seznam a odstrankujeme.
% Pokud ne smazeme nasledujici dve makra.
\listoftables
\clearpage

% A nasleduje text zaverecne prace.
% TODO: chapters
% TODO: check capital letters
% TODO: check bold texts if makes sense
% TODO: add citations
% TODO: explain how look-around could be achieved
% TODO: explain that only one match can be found / not implemented flags in regex
\input{Chapters/Introduction.tex}
\input{Chapters/Principle.tex}
\input{Chapters/ExistingApplications.tex}
\input{Chapters/ApplicationTechnology.tex}
\input{Chapters/Implementation1.tex}
\input{Chapters/Implementation2.tex}
\input{Chapters/Testing.tex}
\input{Chapters/Conclusion.tex}

% Seznam literatury
\printbibliography[title={Literatura}, heading=bibintoc]

% Prilohy
\appendix

\chapter{Adresářová struktura projektu}\label{sec:FileStructure}

\dirtree{%
.1 /\DTcomment{Kořenový adresář projektu}.
.2 libraries\DTcomment{Adresář vlastních knihoven}.
.3 regex-visualization\DTcomment{Vizualizační knihovna}.
.4 customTypes\DTcomment{Vlastní typy}.
.4 src\DTcomment{Adresář zdrojových kódů}.
.5 assets\DTcomment{Zdroje např. obrázky}.
.5 core\DTcomment{Logická část knihovny}.
.5 styles\DTcomment{Styly aplikace}.
.5 templates\DTcomment{HTML vzory}.
.3 regex-visualizer-extension\DTcomment{Knihovna rozšíření do VSCode}.
.4 release\DTcomment{Výsledné vydání aplikace}.
.4 src\DTcomment{Adresář zdrojových kódů}.
.5 handlers\DTcomment{VSCode handelers}.
.5 providers\DTcomment{VSCode providers}.
.5 web\DTcomment{Adresář pro práci s webview}.
.3 regexer\DTcomment{Knihovna pro zpracování regulárních výrazů}.
.4 \_\_tests\_\_\DTcomment{Kódy pro testování}.
.4 src\DTcomment{Adresář zdrojových kódů}.
.5 core\DTcomment{Logická část knihovny}.
.5 coreTypes\DTcomment{Vlastní typy}.
.5 exceptions\DTcomment{Výjimky}.
.5 structures\DTcomment{Různé stuktury}.
}

\chapter{Testovací data}\label{sec:TestingData}

Následující list testovacích dat obsahuje regulární výraz a testovací řetězce k danému výrazu.
Za každým řetězcem se nachází signalizace, zda je řetězec přijímaný korespondujícím regulárním výrazem.


\begin{enumerate}
    %NEW ITEM
    \item
    \noindent\textbf{Regulární výraz:}

    \textasciicircum (+ ?\textbackslash d\{3\})?( ?\textbackslash d\{3\})\{3\}\$

    \noindent\textbf{Testovací řetězce:}

    \begin{enumerate}
        \item +420 123 456 789 \setlength\parindent{1em} \textcolor{OliveGreen}{\Checkmark} \label{itm:TD_1a}
        \item +420123456 \setlength\parindent{1em} \textcolor{Red}{\XSolid} \label{itm:TD_1b}
        \item 420 123 456 \setlength\parindent{1em} \textcolor{OliveGreen}{\Checkmark} \label{itm:TD_1c}
        \item +421420 123456 \setlength\parindent{1em} \textcolor{OliveGreen}{\Checkmark} \label{itm:TD_1d}
    \end{enumerate}


    %NEW ITEM
    \item
    \noindent\textbf{Regulární výraz:} 

    a*\_

    \noindent\textbf{Testovací řetězce:}

    \begin{enumerate}
        \item aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa\_ \setlength\parindent{1em} \textcolor{OliveGreen}{\Checkmark} \label{itm:TD_2a}
    \end{enumerate}


    %NEW ITEM
    \item 
    \noindent\textbf{Regulární výraz:} 

    (?:ab(?<name>c)*)+\_

    \noindent\textbf{Testovací řetězce:}

    \begin{enumerate}
        \item abcdabababccccabababababababccccccccc\_ \setlength\parindent{1em} \textcolor{OliveGreen}{\Checkmark} \label{itm:TD_3a}
    \end{enumerate}


    %NEW ITEM
    \item 
    \noindent\textbf{Regulární výraz:} 

    (a|b|c)+(?:ab)+[a-z]\_

    \noindent\textbf{Testovací řetězce:}

    \begin{enumerate}
        \item abcbbbcccbbccbbccbbababababgjgrehjb\_ \setlength\parindent{1em} \textcolor{Red}{\XSolid} \label{itm:TD_4a}
    \end{enumerate}


    %NEW ITEM
    \item 
    \noindent\textbf{Regulární výraz:} 

    \textasciicircum (a\{2,\}|b\{3\}|(x+))\{3,9\}\$

    \noindent\textbf{Testovací řetězce:}

    \begin{enumerate}
        \item aaxxxxxxxxxxxxbbbxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxaaaaaabbb \setlength\parindent{1em} \textcolor{OliveGreen}{\Checkmark} \label{itm:TD_5a}
        \item aaaxxaxx \setlength\parindent{1em} \textcolor{Red}{\XSolid}
        \item aaaxxxx \setlength\parindent{1em} \textcolor{OliveGreen}{\Checkmark}
        \item axxxxxxbxxxxxaxxxxxxbxxb \setlength\parindent{1em} \textcolor{Red}{\XSolid}
    \end{enumerate}


    %NEW ITEM
    \item 
    \noindent\textbf{Regulární výraz:} 
    
    ((a|b|()+)*|a|b|)+

    \noindent\textbf{Testovací řetězce:}

    \begin{enumerate}
        \item \parbox[t]{14cm}{ababababababababababababbbbabababbbabababababababababbababababababbbbab\-aba \setlength\parindent{1em} \textcolor{OliveGreen}{\Checkmark}} \label{itm:TD_6a}
        \item a \setlength\parindent{1em} \textcolor{OliveGreen}{\Checkmark}
    \end{enumerate}


    %NEW ITEM
    \item 
    \noindent\textbf{Regulární výraz:} 

    (ab(c)*)+\_
    
    \noindent\textbf{Testovací řetězce:}

    \begin{enumerate}
        \item \parbox[t]{14cm}{abcabcabcccccccabababababccccabcabcabcccccccabababababccccabcabcabcccccccaba\-babababccccabcabcabcccccccabababababccccabcabcabcccccccabababababccccabcabca\-bcccccccabababababcccc\_ \setlength\parindent{1em} \textcolor{OliveGreen}{\Checkmark}} \label{itm:TD_7a}
        \item \parbox[t]{14cm}{abcabcabcccccccabababababccccabcabcabcccccccabababababccccabcabcabcccccccaba\-babababccccabcabcabcccccccabababababccccabcabcabcccccccabababababccccabcabca\-bcccccccabababababcccc \setlength\parindent{1em} \textcolor{Red}{\XSolid}} \label{itm:TD_7b}
    \end{enumerate}
\end{enumerate}

% Priloha vlozena primo do hlavniho LaTeX souboru. Ne vsechny prilohy je nutne mit ve zvlastnich souborech.
% \chapter{Dlouhý zdrojový kód}

\end{document}
